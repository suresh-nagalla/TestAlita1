using System;\nusing NUnit.Framework;\nusing RestSharp;\nusing TechTalk.SpecFlow;\nusing AutomationFramework.API.BusinessLogic;\nusing Newtonsoft.Json;\nusing Serilog;\n\n[Binding]\npublic class PetStoreSteps\n{\n    private readonly ScenarioContext _scenarioContext;\n    private readonly PetApiHelper _petApiHelper;\n    private RestResponse _response;\n\n    public PetStoreSteps(ScenarioContext scenarioContext)\n    {\n        _scenarioContext = scenarioContext;\n        _petApiHelper = new PetApiHelper();\n    }\n\n    [Given(\"the API endpoint is \"\"(.*)\"\"\")]\n    public void GivenTheApiEndpointIs(string endpoint)\n    {\n        _scenarioContext[\"Endpoint\"] = endpoint;\n        Log.Information(\"Endpoint set to: {Endpoint}\", endpoint);\n    }\n\n    [When(\"I send a POST request with the following data:\")]\n    public void WhenISendAPostRequestWithTheFollowingData(Table table)\n    {\n        var endpoint = _scenarioContext[\"Endpoint\"].ToString();\n        var requestData = new\n        {\n            name = table.Rows[0][\"name\"],\n            status = table.Rows[0][\"status\"]\n        };\n\n        _response = _petApiHelper.SendPostRequest(endpoint, requestData);\n        _scenarioContext[\"Response\"] = _response;\n\n        Log.Information(\"POST request sent to: {Endpoint} with data: {RequestData}\", endpoint, JsonConvert.SerializeObject(requestData));\n    }\n\n    [When(\"I send a GET request\")]\n    public void WhenISendAGetRequest()\n    {\n        var endpoint = _scenarioContext[\"Endpoint\"].ToString();\n        _response = _petApiHelper.SendGetRequest(endpoint);\n        _scenarioContext[\"Response\"] = _response;\n\n        Log.Information(\"GET request sent to: {Endpoint}\", endpoint);\n    }\n\n    [When(\"I send a PUT request with the following data:\")]\n    public void WhenISendAPutRequestWithTheFollowingData(Table table)\n    {\n        var endpoint = _scenarioContext[\"Endpoint\"].ToString();\n        var requestData = new\n        {\n            id = table.Rows[0][\"id\"],\n            name = table.Rows[0][\"name\"],\n            status = table.Rows[0][\"status\"]\n        };\n\n        _response = _petApiHelper.SendPutRequest(endpoint, requestData);\n        _scenarioContext[\"Response\"] = _response;\n\n        Log.Information(\"PUT request sent to: {Endpoint} with data: {RequestData}\", endpoint, JsonConvert.SerializeObject(requestData));\n    }\n\n    [When(\"I send a DELETE request\")]\n    public void WhenISendADeleteRequest()\n    {\n        var endpoint = _scenarioContext[\"Endpoint\"].ToString();\n        _response = _petApiHelper.SendDeleteRequest(endpoint);\n        _scenarioContext[\"Response\"] = _response;\n\n        Log.Information(\"DELETE request sent to: {Endpoint}\", endpoint);\n